<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jyothishamsonline - Kerala Astrology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-section {
      opacity: 0;
      transition: opacity 0.6s ease-in-out, transform 0.5s ease-in-out;
      transform: translateY(15px);
    }
    .fade-section.active {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-gradient-to-b from-yellow-50 to-orange-100 text-gray-800 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-gradient-to-r from-orange-700 to-yellow-600 text-white p-6 text-center shadow-lg">
    <h1 class="text-4xl font-extrabold animate-bounce">üåû Jyothishamsonline</h1>
    <p class="text-lg mt-2">Authentic Kerala Astrology & Guidance</p>
  </header>

  <!-- Navigation -->
  <nav class="bg-orange-600 text-white p-3 text-center space-x-6 font-medium shadow-md sticky top-0 z-50">
    <button onclick="showSection('home')" class="hover:underline">Home</button>
    <button onclick="showSection('posts')" class="hover:underline">Posts</button>
    <button onclick="showSection('astro-request')" class="hover:underline">Astro Request</button>
    <button onclick="showSection('admin-login')" class="hover:underline">Admin</button>
  </nav>

  <!-- Home -->
  <section id="home" class="p-10 text-center fade-section">
    <h2 class="text-3xl font-bold mb-4">Welcome to Jyothishamsonline</h2>
    <p class="max-w-3xl mx-auto text-lg">
      Discover the wisdom of Kerala astrology. Read detailed posts, explore astrological insights,
      and request personalized horoscope analysis online.
    </p>
  </section>

  <!-- Posts Section -->
  <section id="posts" class="p-10 bg-white hidden fade-section">
    <h2 class="text-3xl font-bold mb-6 text-center">üåü Latest Posts</h2>
    <div id="post-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </section>

  <!-- Astrology Request Form -->
  <section id="astro-request" class="p-10 bg-orange-50 hidden fade-section">
    <h2 class="text-3xl font-bold mb-6 text-center">üîÆ Submit Astrology Request</h2>
    <form id="astroForm" action="https://formspree.io/f/mvgbdpna" method="POST" class="max-w-lg mx-auto bg-white p-6 rounded-2xl shadow-lg space-y-4">
      
      <label class="block">
        <span class="font-medium">Date of Birth</span>
        <input type="date" name="dob" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      </label>

      <label class="block">
        <span class="font-medium">Time of Birth</span>
        <input type="time" name="tob" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      </label>

      <label class="block">
        <span class="font-medium">Place of Birth</span>
        <input type="text" name="place" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      </label>

      <label class="block">
        <span class="font-medium">Star (Nakshatra)</span>
        <select name="star" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
          <option value="">-- Select Your Star --</option>
          <option value="Ashwini">Ashwini</option>
          <option value="Bharani">Bharani</option>
          <option value="Krittika">Krittika</option>
          <option value="Rohini">Rohini</option>
          <option value="Mrigashirsha">Mrigashirsha</option>
          <option value="Ardra">Ardra</option>
          <option value="Punarvasu">Punarvasu</option>
          <option value="Pushya">Pushya</option>
          <option value="Ashlesha">Ashlesha</option>
          <option value="Magha">Magha</option>
          <option value="Purva Phalguni">Purva Phalguni</option>
          <option value="Uttara Phalguni">Uttara Phalguni</option>
          <option value="Hasta">Hasta</option>
          <option value="Chitra">Chitra</option>
          <option value="Swati">Swati</option>
          <option value="Vishakha">Vishakha</option>
          <option value="Anuradha">Anuradha</option>
          <option value="Jyeshtha">Jyeshtha</option>
          <option value="Mula">Mula</option>
          <option value="Purva Ashadha">Purva Ashadha</option>
          <option value="Uttara Ashadha">Uttara Ashadha</option>
          <option value="Shravana">Shravana</option>
          <option value="Dhanishta">Dhanishta</option>
          <option value="Shatabhisha">Shatabhisha</option>
          <option value="Purva Bhadrapada">Purva Bhadrapada</option>
          <option value="Uttara Bhadrapada">Uttara Bhadrapada</option>
          <option value="Revati">Revati</option>
        </select>
      </label>

      <label class="block">
        <span class="font-medium">Email ID</span>
        <input type="email" name="email" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      </label>

      <label class="block">
        <span class="font-medium">Phone Number</span>
        <input type="tel" name="phone" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      </label>

      <input type="hidden" name="_subject" value="New Astrology Request from Jyothishamsonline">

      <button type="submit" class="bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-6 py-3 rounded-lg shadow-lg transform hover:scale-105 hover:shadow-xl transition">
        Submit Request
      </button>
    </form>
  </section>

  <!-- Admin Login -->
  <section id="admin-login" class="p-10 bg-white hidden fade-section">
    <h2 class="text-3xl font-bold mb-6 text-center">üîë Admin Login</h2>
    <form id="loginForm" class="max-w-sm mx-auto bg-orange-50 p-6 rounded-2xl shadow-md space-y-4">
      <input type="text" id="adminUser" placeholder="Username" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      <input type="password" id="adminPass" placeholder="Password" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-orange-400 focus:outline-none transition" required>
      <button type="submit" class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2 rounded-lg shadow-lg transform hover:scale-105 hover:shadow-xl transition">Login</button>
    </form>
  </section>

  <!-- Admin Add Post (Hidden) -->
  <section id="admin" class="p-10 hidden fade-section">
    <h2 class="text-3xl font-bold mb-6 text-center">‚úçÔ∏è Add New Post</h2>
    <form id="postForm" class="max-w-lg mx-auto bg-white p-6 rounded-2xl shadow-lg space-y-4">
      <input type="text" id="title" placeholder="Post Title" class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
      <textarea id="content" rows="5" placeholder="Write post content..." class="w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required></textarea>
      <button type="submit" class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-lg shadow-lg transform hover:scale-105 hover:shadow-xl transition">Publish Post</button>
    </form>
  </section>

  <!-- Footer -->
  <footer class="bg-orange-700 text-white p-6 text-center mt-auto">
    <p>&copy; 2025 Jyothishamsonline | Kerala Astrology</p>
  </footer>

  <script>
    // Section toggle logic with fade effect
    function showSection(id) {
      const sections = document.querySelectorAll("section");
      sections.forEach(sec => {
        sec.classList.add("hidden");
        sec.classList.remove("active");
      });
      const active = document.getElementById(id);
      active.classList.remove("hidden");
      setTimeout(() => active.classList.add("active"), 50);
    }
    showSection("home");

    // Load posts
    const postList = document.getElementById("post-list");
    const posts = JSON.parse(localStorage.getItem("astroPosts")) || [];

    function renderPosts() {
      postList.innerHTML = "";
      if (posts.length === 0) {
        postList.innerHTML = `<p class='text-center text-gray-600'>No posts yet. Admin will add soon.</p>`;
      }
      posts.forEach(p => {
        const div = document.createElement("div");
        div.className = "p-5 bg-orange-100 rounded-xl shadow hover:shadow-2xl hover:scale-[1.02] transform transition duration-300";
        div.innerHTML = `<h3 class='text-xl font-bold mb-2 text-orange-800'>${p.title}</h3><p>${p.content}</p>`;
        postList.appendChild(div);
      });
    }
    renderPosts();

    // Admin login
    document.getElementById("loginForm")?.addEventListener("submit", (e) => {
      e.preventDefault();
      const user = document.getElementById("adminUser").value;
      const pass = document.getElementById("adminPass").value;
      if (user === "admin" && pass === "astro123") {
        showSection("admin");
        alert("‚úÖ Login successful! You can now add posts.");
      } else {
        alert("‚ùå Invalid credentials");
      }
      e.target.reset();
    });

    // Admin add post
    document.getElementById("postForm")?.addEventListener("submit", (e) => {
      e.preventDefault();
      const title = document.getElementById("title").value;
      const content = document.getElementById("content").value;
      posts.push({ title, content });
      localStorage.setItem("astroPosts", JSON.stringify(posts));
      renderPosts();
      e.target.reset();
      alert("‚úÖ Post published successfully!");
      showSection("posts");
    });

    // AJAX form submission for Formspree
    const astroForm = document.getElementById("astroForm");
    astroForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = new FormData(astroForm);
      const response = await fetch(astroForm.action, {
        method: astroForm.method,
        body: data,
        headers: { 'Accept': 'application/json' }
      });
      if (response.ok) {
        alert("‚úÖ Your astrology request has been sent successfully!");
        astroForm.reset();
      } else {
        alert("‚ùå Something went wrong. Please try again.");
      }
    });
  </script>
</body>
</html>
