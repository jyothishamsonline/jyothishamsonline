<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¥ï‡µá‡¥∞‡¥≥ ‡¥ú‡µç‡¥Ø‡µã‡¥§‡¥ø‡¥∑‡¥Ç | Trusted Astrology Services</title>

<meta name="description" content="Accurate astrology, jathakam, marriage prediction & porutham checker">

<script src="https://cdn.tailwindcss.com"></script>

<!-- jsPDF for auto PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
  background: radial-gradient(circle at top, #f0fdf4, #ecfeff, #f8fafc);
}
</style>
</head>

<body class="font-sans text-gray-800">

<!-- HERO -->
<section class="bg-gradient-to-r from-emerald-700 via-teal-600 to-cyan-600 text-white py-12 text-center">
  <h1 class="text-5xl font-extrabold mb-4">üîÆ ‡¥ï‡µá‡¥∞‡¥≥ ‡¥ú‡µç‡¥Ø‡µã‡¥§‡¥ø‡¥∑‡¥Ç</h1>
  <img src="ASTR.jpg" class="mx-auto w-40 rounded-full border-4 border-white shadow mb-4">
  <p class="text-xl mb-4">Personal Astrology & Horoscope Consultation</p>
  <div class="flex justify-center gap-4">
    <span class="bg-white text-emerald-700 px-5 py-2 rounded-full font-bold">‚Çπ700 Consultation</span>
    <span class="bg-black/30 px-5 py-2 rounded-full">100% Confidential</span>
  </div>
</section>

<!-- SERVICES -->
<section class="max-w-6xl mx-auto px-4 py-10">
<h2 class="text-3xl font-bold text-center text-emerald-700 mb-8">Available Services</h2>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
<button onclick="setService('Marriage Prediction')" class="card">Marriage</button>
<button onclick="setService('Career & Job')" class="card">Career</button>
<button onclick="setService('Education')" class="card">Education</button>
<button onclick="setService('Health')" class="card">Health</button>
</div>
</section>

<style>
.card{
  background:white;padding:1.5rem;border-radius:1rem;
  font-weight:600;box-shadow:0 10px 20px rgba(0,0,0,.1)
}
.card:hover{background:#ecfdf5}
</style>

<!-- MAIN -->
<section class="max-w-6xl mx-auto px-4 py-10 grid md:grid-cols-2 gap-8">

<!-- BIRTH FORM -->
<div class="bg-white p-6 rounded-xl shadow">
<h3 class="font-bold text-emerald-700 mb-4">Birth Details</h3>
<input type="hidden" id="serviceInput" value="Jathakam">

<input id="name" placeholder="Full Name" class="w-full p-3 border rounded mb-3">
<input type="date" id="dob" class="w-full p-3 border rounded mb-3">
<input id="tob" placeholder="Birth Time (10:30 AM)" class="w-full p-3 border rounded mb-3">
<input id="place" placeholder="Place of Birth" class="w-full p-3 border rounded mb-3">
<input id="phone" placeholder="WhatsApp Number" class="w-full p-3 border rounded mb-3">

<button onclick="payMain()" class="w-full bg-emerald-600 text-white py-3 rounded font-bold">
Pay ‚Çπ700 via UPI
</button>
</div>

<!-- PORUTHAM -->
<div class="bg-white p-6 rounded-xl shadow">
<h3 class="font-bold text-emerald-700 mb-4">üíç Paid Porutham Checker ‚Äì ‚Çπ10</h3>

<input id="girlName" placeholder="Girl Name" class="w-full p-2 border rounded mb-2">
<input type="date" id="girlDOB" class="w-full p-2 border rounded mb-2">
<input type="time" id="girlTime" class="w-full p-2 border rounded mb-2">

<input id="boyName" placeholder="Boy Name" class="w-full p-2 border rounded mb-2">
<input type="date" id="boyDOB" class="w-full p-2 border rounded mb-2">
<input type="time" id="boyTime" class="w-full p-2 border rounded mb-3">

<button onclick="payPorutham()" class="w-full bg-emerald-600 text-white py-2 rounded font-bold">
Check Porutham ‚Äì ‚Çπ10
</button>

<pre id="poruthamResult" class="mt-3 font-bold text-green-700 whitespace-pre-line"></pre>
</div>

</section>

<!-- FOOTER -->
<footer class="bg-white py-6 text-center text-sm">
üìû <a href="tel:9526522065" class="text-emerald-700 font-bold">+91 9526 522 065</a><br>
‚úâÔ∏è jyothishamsonline@gmail.com<br>
¬© Kerala Jyothisham
</footer>

<a href="https://wa.me/919526522065"
class="fixed bottom-5 right-5 bg-emerald-600 text-white p-4 rounded-full text-xl">üí¨</a>

<script>
// SERVICE
function setService(s){ document.getElementById("serviceInput").value=s }

// MAIN PAYMENT
function payMain(){
  if(!name.value||!dob.value||!tob.value||!place.value){alert("Fill all details");return;}
  window.location.href="upi://pay?pa=jyothishams@ptyes&pn=KeralaJyothisham&am=700&cu=INR";
}

// PORUTHAM PAYMENT
function payPorutham(){
  if(!girlName.value||!boyName.value||!girlDOB.value||!boyDOB.value||!girlTime.value||!boyTime.value){
    alert("Fill all porutham details"); return;
  }
  window.location.href="upi://pay?pa=jyothishams@ptyes&pn=KeralaJyothisham&am=10&cu=INR";
  setTimeout(calculatePorutham,2500);
}

// PORUTHAM ALGORITHM + PDF
function calculatePorutham(){

  const nak = [
    "Aswathi","Bharani","Karthika","Rohini","Makayiram","Thiruvathira",
    "Punartham","Pooyam","Ayilyam","Magha","Puram","Uttaram",
    "Atham","Chithra","Chothi","Vishakham","Anizham","Thrikketta",
    "Mulam","Pooradam","Uthradam","Thiruvonam","Avittam","Chathayam",
    "Pururuttathi","Uthrittathi","Revathi"
  ];

  const gNak = Math.floor(new Date(`${girlDOB.value}T${girlTime.value}`).getTime()/60000)%27;
  const bNak = Math.floor(new Date(`${boyDOB.value}T${boyTime.value}`).getTime()/60000)%27;
  const diff = (bNak-gNak+27)%27;

  let score=0;
  if(diff>=7)score++;
  if(diff%9!==0)score++;
  if(bNak>gNak)score++;
  if(gNak!==bNak)score++;

  const verdict = score>=3 ? "GOOD MATCH ‚Äì Marriage Recommended" : "AVERAGE MATCH ‚Äì Consultation Needed";

  const text =
`Girl Nakshatra : ${nak[gNak]}
Boy Nakshatra  : ${nak[bNak]}
Porutham Score : ${score}/4
Result : ${verdict}`;

  poruthamResult.innerText=text;

  generatePDF(score,verdict,nak[gNak],nak[bNak]);
}

function generatePDF(score,verdict,gNak,bNak){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.text("KERALA JYOTHISHAM",105,20,{align:"center"});
  doc.text("Paid Porutham Report",105,30,{align:"center"});

  doc.text(`Girl : ${girlName.value}`,20,50);
  doc.text(`Nakshatra : ${gNak}`,20,58);

  doc.text(`Boy : ${boyName.value}`,20,70);
  doc.text(`Nakshatra : ${bNak}`,20,78);

  doc.text(`Score : ${score}/4`,20,95);
  doc.text(`Result : ${verdict}`,20,105);

  doc.text("Disclaimer: Automated report. Full horoscope matching advised.",20,130);

  doc.save(`Porutham_${girlName.value}_${boyName.value}.pdf`);
}
</script>

</body>
</html>
